\usetikzlibrary {automata,positioning}
\begin{tikzpicture}[shorten >=1pt,node distance=2cm,on grid,auto]
	\node[initial,state] (0) {0};
	\node[state, right of=0] (1) {1};
	\node[state, above right of=1] (2) {2};
	\node[state, below right of=1] (3) {3};
	\node[state, right of=2] (4) {4};
	\node[state, right of=3] (5) {5};
	\node[state, below right of=4] (6) {6};
	\node[accepting, state, right of=6] (7) {7};
	\path (0) edge[->] node {$\epsilon$} (1)
			(1) edge[->] node {$\epsilon$} (2)
			(1) edge[->] node {$\epsilon$} (3)
			(2) edge[->] node {$a$} (4)
			(3) edge[->] node {$b$} (5)
			(4) edge[->] node {$\epsilon$} (6)
			(5) edge[->] node {$\epsilon$} (6)
			(6) edge[->] node {$\epsilon$} (7)
			(6) edge[->,out=90,in=90,looseness=1.5] node {$\epsilon$} (1)
			(0) edge[->,out=-90,in=-90,looseness=1] node {$\epsilon$} (7);
\end{tikzpicture}
